<form method="post" action="{{ action }}" id="{{ action }}" enctype="multipart/form-data">
    <fieldset>
        <dl>
            {% if form.ordered_fields %}
                {% set form_fields = form.ordered_fields %}
            {% else %}
                {% set form_fields = form.fields %}
            {% endif %}
            {% for field in form_fields %}
                <dt {% if field.label_classes %} class="{{ field.label_classes|join(' ') }}" {% endif %}>
                    <label for="{{ field.name }}">{{ field.label }}</label>
                </dt>
                <dd>
                    {{ field | safe }}
                    <p class="errorMessage">
                        {% for error in field.errors %}
                            <span> {{ error }} </span>
                        {% endfor %}
                    </p>
                </dd>
            {% endfor %}
        </dl>
    </fieldset>

    {% if is_model_fragment %}
        <a href="#" title="Set up model parameters for region-based simulations" class="action action-analyze"
           onclick="configureModelParamsOnRegions();" id="configRegionModelParam">Set up region Model</a>

        {% if is_surface_simulation %}
            <a href="#" title="Set up model parameters for surface-based simulations" class="action action-analyze"
               onclick="configureModelParamsOnSurface();" id="configSurfaceModelParam">Set up surface model</a>
        {% endif %}
    {% endif %}

    {% if is_first_fragment is sameas false %}
        <button id='previous' name="previous" type="button" class="btn btn-primary"
                onclick="previousWizzardStep(this.parentElement, '{{ previous_action }}')">Previous
        </button>
    {% endif %}

    {% if is_last_fragment is sameas false %}
        <button id='next' name="next" type="button" class="btn btn-primary"
                onclick="wizzard_submit(this.parentElement)">Next
        </button>
    {% endif %}
</form>